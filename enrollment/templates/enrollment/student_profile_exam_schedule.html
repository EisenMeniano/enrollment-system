{% extends "base.html" %}
{% block title %}Exam Schedule{% endblock %}
{% block content %}
<div class="layout">
  {% include "enrollment/_student_sidebar.html" with active="exam_schedule" %}
  <section>
    {% include "enrollment/_student_topinfo.html" %}
    <div class="section-card">
      <h3 class="section-title">Exam Schedule</h3>
      <form method="get" class="field" style="max-width:360px;">
        <label>Session Name</label>
        <select name="session" onchange="this.form.submit()">
          <option value="">Please Select</option>
          {% for s in sessions %}
            <option value="{{ s.id }}" {% if selected_session_id == s.id|stringformat:"s" %}selected{% endif %}>{{ s.label }}</option>
          {% endfor %}
        </select>
      </form>
      <div style="margin-top:12px;">
        <table>
          <thead>
            <tr>
              <th>Subject Code</th>
              <th>Subject Name</th>
              <th>Date</th>
              <th>Time</th>
              <th>Room</th>
            </tr>
          </thead>
          <tbody>
            {% for s in schedules %}
            <tr>
              <td data-label="Subject Code">{{ s.subject.code }}</td>
              <td data-label="Subject Name">{{ s.subject.title }}</td>
              <td data-label="Date">{{ s.exam_date|default:"—" }}</td>
              <td data-label="Time">{{ s.exam_time|default:"—" }}</td>
              <td data-label="Room">{{ s.room|default:"—" }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="5">No exam schedule yet.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </section>
</div>
{% endblock %}
